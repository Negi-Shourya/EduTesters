<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduTesters | JEE Main Test Series</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root { --primary: #0d47a1; --bg-color: #f5f8ff; --text-main: #222; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg-color); color: var(--text-main); display: flex; flex-direction: column; min-height: 100vh; }
        
        header { background: #fff; padding: 12px 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 12px rgba(0,0,0,0.08); position: sticky; top: 0; z-index: 1000; }
        .nav-left { display: flex; align-items: center; gap: 20px; }
        .menu-btn { font-size: 1.6rem; cursor: pointer; color: var(--primary); }
        header h1 { margin: 0; color: var(--primary); font-size: 1.8rem; }
        
        #userDisplay { display: flex; align-items: center; gap: 10px; font-weight: 600; color: var(--primary); }
        .user-pic { width: 35px; height: 35px; border-radius: 50%; border: 2px solid var(--primary); }

        .side-drawer { position: fixed; top: 0; left: -300px; width: 280px; height: 100%; background: #fff; box-shadow: 5px 0 15px rgba(0,0,0,0.1); transition: 0.3s ease; z-index: 2000; padding-top: 20px; }
        .side-drawer.active { left: 0; }
        .drawer-item { padding: 15px 25px; display: flex; align-items: center; gap: 15px; text-decoration: none; color: var(--text-main); font-weight: 500; }
        .drawer-item:hover { background: #e3f2fd; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); display: none; z-index: 1500; }
        .overlay.active { display: block; }

        .main-content { flex: 1; max-width: 1100px; margin: auto; padding: 40px 20px; width: 100%; box-sizing: border-box; text-align: center; }
        .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 30px; }
        .card { background: #fff; padding: 40px 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.06); }
        .btn { width: 100%; padding: 15px; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; margin-top: 20px; }
        .btn-blue { background: var(--primary); color: #fff; }

        footer { background: #fff; padding: 30px; text-align: center; box-shadow: 0 -4px 12px rgba(0,0,0,0.05); }
    </style>
</head>
<body>

<div class="overlay" id="overlay"></div>
<div class="side-drawer" id="sideDrawer">
    <div style="padding: 20px; border-bottom: 1px solid #eee;"><h3>Menu</h3></div>
    <a href="profile.html" class="drawer-item"><i class="fas fa-user-circle"></i> My Profile</a>
    <a href="#" class="drawer-item" onclick="logout()" id="sidebarLogout" style="display:none;"><i class="fas fa-sign-out-alt"></i> Logout</a>
</div>

<header>
    <div class="nav-left">
        <div class="menu-btn" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
        <h1>EduTesters</h1>
    </div>
    <div id="authArea">
        <div id="googleBtn"></div>
        <div id="userDisplay" style="display:none;"></div>
    </div>
</header>

<div class="main-content">
    <p>JEE Main Online Test Series & Preparation</p>
    <div class="card-grid">
        <div class="card">
            <h2>Starters (Free)</h2>
            <button class="btn btn-blue" onclick="openFreeTests()">Access Free Tests</button>
        </div>
        <div class="card" style="opacity:0.7">
            <h2>Rank Boosters</h2>
            <button class="btn" disabled>Coming Soon</button>
        </div>
    </div>
</div>

<footer>
    <p>¬© 2026 EduTesters. All Rights Reserved.</p>
    <p>üìû 7876720376 | ‚úâÔ∏è negishourya1980@gmail.com</p>
</footer>

<script src="https://accounts.google.com/gsi/client" async defer></script>
<script>
    function toggleMenu() { document.getElementById('sideDrawer').classList.toggle('active'); document.getElementById('overlay').classList.toggle('active'); }
    document.getElementById('overlay').onclick = toggleMenu;

    function decodeJwt(token) {
        var base64Url = token.split('.')[1];
        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
        return JSON.parse(window.atob(base64));
    }

    function initializeGoogleLogin() {
        google.accounts.id.initialize({
            client_id: "207841444142-pdts1e362dv8hh8v7ro8itj9fdo3rm30.apps.googleusercontent.com",
            callback: (response) => {
                const data = decodeJwt(response.credential);
                localStorage.setItem("userLoggedIn", "true");
                localStorage.setItem("userName", data.name);
                localStorage.setItem("userEmail", data.email);
                localStorage.setItem("userPic", data.picture);
                updateUI();
            }
        });
        google.accounts.id.renderButton(document.getElementById("googleBtn"), { theme: "outline", size: "large", shape: "pill" });
    }

    function updateUI() {
        const isLoggedIn = localStorage.getItem("userLoggedIn") === "true";
        if (isLoggedIn) {
            document.getElementById("googleBtn").style.display = "none";
            const userDisplay = document.getElementById("userDisplay");
            userDisplay.style.display = "flex";
            userDisplay.innerHTML = `<img src="${localStorage.getItem('userPic')}" class="user-pic"> <span>${localStorage.getItem('userName')}</span>`;
            document.getElementById("sidebarLogout").style.display = "flex";
        }
    }

    function openFreeTests() {
        if (localStorage.getItem("userLoggedIn") === "true") window.location.href = "free-tests.html";
        else alert("Please login first!");
    }

    function logout() { localStorage.clear(); location.reload(); }

    window.onload = () => { setTimeout(initializeGoogleLogin, 300); updateUI(); };
</script>
</body>
</html>
